let pokemonRepository=function(){let e=[],t=[],n="https://pokeapi.co/api/v2/pokemon/?limit=150";function i(t){"object"==typeof t&&"name"in t&&"detailsUrl"in t&&e.push(t)}function o(){return e}function a(e){let t=JSON.parse(localStorage.getItem("myFavoritesString"))||[],n=t.some(t=>t.name===e.name);n?alert("This Pok\xe9mon is already favorited!"):(t.push(e),localStorage.setItem("myFavoritesString",JSON.stringify(t)),alert("Pok\xe9mon added to favorites!"))}function r(){localStorage.clear(),alert("Favorites List cleared."),location.reload()}function l(e){d(e).then(function(){var t,n,i,o,r;let l,s,d,c,m,u,p;t=e.name,n=e.height,i=e.weight,o=e.imageUrl,r=e,(l=document.querySelector(".modal-title")).innerText="",l.innerText=t,l.classList.add("modal-element"),s=document.querySelector(".modal-body"),(d=document.querySelector(".modal-footer")).innerHTML="",s.innerText="",(c=document.createElement("p")).innerText="height: "+n,c.classList.add("modal-element"),(m=document.createElement("p")).innerText="weight: "+i,m.classList.add("modal-element"),(u=document.createElement("img")).src=o,u.classList.add("modal-element"),(p=document.createElement("button")).classList.add("btn","btn-primary","favorite-pokemon"),p.innerText="Add to my favorites",s.appendChild(c),s.appendChild(m),s.appendChild(u),d.appendChild(p),document.querySelector(".favorite-pokemon").addEventListener("click",function(){a(r)})})}function s(e){d(e).then(function(){var t,n,i,o;let a,l,s,d,c;t=e.name,n=e.height,i=e.weight,o=e.imageUrl,(a=document.querySelector(".modal-title")).innerText="",a.innerText=t,a.classList.add("modal-element"),(l=document.querySelector(".modal-body")).innerText="",(s=document.createElement("p")).innerText="height: "+n,s.classList.add("modal-element"),(d=document.createElement("p")).innerText="weight: "+i,d.classList.add("modal-element"),(c=document.createElement("img")).src=o,c.classList.add("modal-element"),document.querySelector(".clear-pokemon").addEventListener("click",function(){r()}),l.appendChild(s),l.appendChild(d),l.appendChild(c)})}function d(e){return fetch(e.detailsUrl).then(function(e){return e.json()}).then(function(t){e.imageUrl=t.sprites.front_default,e.height=t.height,e.types=t.types,e.weight=t.weight}).catch(function(e){console.error(e)})}return{add:i,addFavorites:a,getAll:o,getAllFavorites:function e(){let t=localStorage.getItem("myFavoritesString"),n=t?JSON.parse(t):[];return n},addListItem:function e(t){let n=$("#pokemon-list"),i=$("<li></li>");i.addClass("each-pokemon"),i.addClass("list-group-item");let o=document.createElement("button");o.classList.add("btn"),o.classList.add("btn-light"),o.innerText=t.name,o.classList.add("pokemon-button"),o.setAttribute("data-toggle","modal"),o.setAttribute("data-target","#modal-container"),i.append(o),n.append(i),o.addEventListener("click",function(){l(t)})},addListItemFavorites:function e(t){let n=$("#pokemon-list-favorites"),i=$("<li></li>");i.addClass("each-pokemon"),i.addClass("list-group-item");let o=document.createElement("button");o.classList.add("btn","btn-light"),o.innerText=t.name,o.classList.add("pokemon-button"),o.setAttribute("data-toggle","modal"),o.setAttribute("data-target","#modal-container"),i.append(o),n.append(i),o.addEventListener("click",function(){s(t)})},showDetails:l,showDetailsFavorites:s,loadList:function e(){return fetch(n).then(function(e){return e.json()}).then(function(e){e.results.forEach(function(e){i({name:e.name,detailsUrl:e.url})})}).catch(function(e){console.error(e)})},loadListFavorites:function e(){return fetch(n).then(function(e){return e.json()}).then(function(e){e.results.forEach(function(e){let n={name:e.name,detailsUrl:e.url};t.push(n)})}).catch(function(e){console.error(e)})},clearFavorites:r,loadDetails:d}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)})}),pokemonRepository.loadListFavorites().then(function(){pokemonRepository.getAllFavorites().forEach(function(e){pokemonRepository.addListItemFavorites(e)})});